<script lang="ts">
import { onShow, ref } from 'wevu'

export default {
  type: 'page',
  data() {
    return {
      optionsCount: 0,
    }
  },
  setup({ state, proxy }) {
    const setupCount = ref(0)
    const message = ref('Setup åˆå§‹åŒ–')

    onShow(() => {
      console.log('[Setup] é¡µé¢æ˜¾ç¤º')
    })

    function incrementSetup() {
      setupCount.value += 1
    }

    function updateMessage() {
      message.value = `æ›´æ–°äº ${new Date().toLocaleTimeString()}`
    }

    return {
      setupCount,
      message,
      incrementSetup,
      updateMessage,
    }
  },
  methods: {
    incrementOptions() {
      this.optionsCount += 1
    },
  },
}
</script>

<template>
  <view class="container">
    <view class="page-title">Setup è¯­æ³•</view>

    <view class="section">
      <view class="section-title">Setup è¿”å›çš„æ•°æ®</view>
      <view class="demo-item">
        <text class="label">Setup è®¡æ•°: {{setupCount}}</text>
        <button class="btn btn-primary" bindtap="incrementSetup">+1</button>
      </view>
      <view class="demo-item">
        <text class="label">{{message}}</text>
        <button class="btn btn-primary" bindtap="updateMessage">æ›´æ–°</button>
      </view>
    </view>

    <view class="section">
      <view class="section-title">Options API æ•°æ®</view>
      <view class="demo-item">
        <text class="label">Options è®¡æ•°: {{optionsCount}}</text>
        <button class="btn btn-success" bindtap="incrementOptions">+1</button>
      </view>
    </view>

    <view class="tip">
      <text class="tip-text">ğŸ’¡ Setup å¯ä»¥è®¿é—®è¿è¡Œæ—¶ä¸Šä¸‹æ–‡ï¼Œè¿”å›çš„æ•°æ®å’Œæ–¹æ³•ä¼šè‡ªåŠ¨ç»‘å®šåˆ°å®ä¾‹</text>
    </view>
  </view>
</template>

<style>
/* stylelint-disable order/properties-order */
.demo-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24rpx 0;
  border-bottom: 1rpx solid #eee;
}

.demo-item:last-child {
  border-bottom: none;
}

.label {
  font-size: 28rpx;
  color: #333;
}
/* stylelint-enable order/properties-order */
</style>

<config lang="json">
{
  "navigationBarTitleText": "Setup è¯­æ³•"
}
</config>
