<script setup lang="ts">
import { onShow, ref } from 'wevu'

// ç›´æ¥å®šä¹‰å“åº”å¼æ•°æ®
const count = ref(0)
const message = ref('Script Setup')
const items = ref(['é¡¹ç›®1', 'é¡¹ç›®2', 'é¡¹ç›®3'])

// å®šä¹‰æ–¹æ³•
function increment() {
  count.value += 1
}

function updateMessage() {
  message.value = `æ›´æ–°äº ${new Date().toLocaleTimeString()}`
}

function addItem() {
  items.value.push(`é¡¹ç›® ${items.value.length + 1}`)
}

// ç”Ÿå‘½å‘¨æœŸé’©å­
onShow(() => {
  console.log('[ScriptSetup] é¡µé¢æ˜¾ç¤º')
})
</script>

<template>
  <view class="container">
    <view class="page-title">
      Script Setup
    </view>

    <view class="section">
      <view class="section-title">
        å“åº”å¼æ•°æ®
      </view>
      <view class="demo-item">
        <text class="label">
          è®¡æ•°: {{ count }}
        </text>
        <button class="btn btn-primary" @click="increment">
          +1
        </button>
      </view>
      <view class="demo-item">
        <text class="label">
          {{ message }}
        </text>
        <button class="btn btn-primary" @click="updateMessage">
          æ›´æ–°
        </button>
      </view>
    </view>

    <view class="section">
      <view class="section-title">
        æ•°ç»„æ“ä½œ
      </view>
      <view class="items-list">
        <view v-for="(item, index) in items" :key="index" class="item-row">
          <text>{{ item }}</text>
        </view>
      </view>
      <button class="btn btn-success" @click="addItem">
        æ·»åŠ é¡¹ç›®
      </button>
    </view>

    <view class="tip">
      <text class="tip-text">
        ğŸ’¡ Script Setup æä¾›æ›´ç®€æ´çš„è¯­æ³•ï¼Œé¡¶å±‚å˜é‡è‡ªåŠ¨æš´éœ²
      </text>
    </view>
  </view>
</template>

<style>
/* stylelint-disable order/properties-order */
.demo-item {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 24rpx 0;
  border-bottom: 1rpx solid #eee;
}

.label {
  font-size: 28rpx;
  color: #333;
}

.items-list {
  margin: 24rpx 0;
}

.item-row {
  padding: 16rpx;
  background: #f5f7fa;
  border-radius: 8rpx;
  margin-bottom: 12rpx;
  font-size: 26rpx;
}
/* stylelint-enable order/properties-order */
</style>

<config lang="json">
{
  "navigationBarTitleText": "Script Setup"
}
</config>
